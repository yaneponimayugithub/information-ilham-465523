# Отчет по лабораторной работе №5  
**Курс:** Информатика  
**Тема:** Git  
**Выполнил:** Гашимов И.Ф. (К3139)  
**Проверил:** Болгова К.

---

### Цель работы 1 задачи
Целью работы является настройка и тестирование pre-commit hook в Git для автоматической проверки файлов перед коммитом. Для проверки используется скрипт, который позволяет убедиться, что:
1. Все файлы с расширением `.txt` содержат подпись "Автор:".
2. Файлы других форматов не могут быть добавлены в репозиторий.

### Шаги выполнения

#### 1. Переход в директорию проекта
Для начала, переходим в директорию с проектом `git-practice`:

```bash
cd git-practide
```

#### 2. Переход в папку с хуками Git
Далее переходим в директорию, где хранятся хуки Git:

```bash
cd .git/hooks
```

#### 3. Создание скрипта pre-commit
Создаем новый файл pre-commit для написания логики проверки файлов перед коммитом:

```bash
touch pre-commit
```

#### 4. Открытие файла для редактирования

```bash
gedit pre-commit
```

#### 5. Пишем логику проверку commit

```bash
#!/bin/bash

# Проходим по каждому файлу, который был добавлен в индекс для коммита
for file in $(git diff --cached --name-only); do
    # Проверяем, является ли файл .txt
    if [[ $file == *.txt ]]; then
        # Проверяем, есть ли в файле строка "Автор:"
        if grep -q "Автор:" "$file"; then
            echo "Файл '$file' соответствует формату и имеет подпись автора."
        else
            # Если подписи нет, выводим ошибку
            echo "Ошибка: Файл '$file' соответствует формату, но не имеет подписи автора."
            exit 1
        fi
    else
        # Если файл не .txt, выводим ошибку
        echo "Ошибка: Файл '$file' не соответствует формату!"
        exit 1
    fi
done
```
### Так же выдаем права на выполнение через

```bash
chmod +x pre-commit
```


#### В консоль выводятся сообщения, соответствующие результатам проверки:

#### Если файл соответствует формату и содержит подпись автора, выводится сообщение о том, что файл прошел проверку.
#### Если файл не соответствует формату или не имеет подписи автора, выводится соответствующая ошибка.


#### Если все проверки прошли успешно, скрипт позволяет продолжить коммит. Если хотя бы один файл не прошел проверку, скрипт завершает выполнение с ошибкой, и коммит блокируется.





Подготовка файлов для тестирования
Для проверки работы скрипта были созданы следующие файлы:

txtfile_without_author.txt — файл с текстом, но без подписи автора (не соответствует требованиям).

txtfile_with_author.txt — файл с текстом и подписью "Автор:" (соответствует требованиям).

notxt.py — файл с расширением .py, который не соответствует формату .txt.

![Снимок экрана 2024-12-02 233256](https://github.com/user-attachments/assets/efe59f28-139d-4b25-92db-79bc4b18b046)

![Снимок экрана 2024-12-02 233734](https://github.com/user-attachments/assets/46744baf-41e1-448e-af87-08974cd2462c)

### Заключение

#### В ходе лабораторной работы был настроен Git hook для проверки файлов перед коммитом. Скрипт проверяет, что коммитятся только .txt файлы с подписью "Автор:". Если файл не соответствует этим требованиям, коммит блокируется. Все тесты прошли успешно, и система работает как ожидается.

### Задача 2

#### Предположим, у вас есть задача на создание новой функциональности для вашего проекта с использованием Git Flow. Давайте рассмотрим конкретный пример. В примере важен не сам проект и его код (его тут вообще как такового нет), а принцип работы Git Flow.

### 1 Установка flow

![image](https://github.com/user-attachments/assets/7c2c9d32-aa29-49dc-b24c-542d1c518a35)

### 2 Инициализация git flow

![image](https://github.com/user-attachments/assets/0c2096ae-272e-4b6d-b6fb-8fe23eb38eae)

### 3 Создание ветки для новой функциональности, она называется "task-management"

![image](https://github.com/user-attachments/assets/2b23f47c-fcbd-4976-a2a5-8d9c4626480d)

### 4 Внес изменения в код для добавления функционала управления задачами (например, в файл task_manager.py)

![image](https://github.com/user-attachments/assets/c9b09b8a-4dee-4fb1-9e05-6b8e13a5d786)

### Делаем коммит

![image](https://github.com/user-attachments/assets/b7ae4a5f-5f2b-4e07-b432-1c06632b9dff)

### 5 После завершения разработки функции завершил фичу и объединил ее с основной веткой:

![image](https://github.com/user-attachments/assets/d8128086-6752-4557-a410-fe239506517d)

### 6 Переключился на ветку "develop" и начал создание релиза:

![image](https://github.com/user-attachments/assets/d15d1fae-2da1-43d2-976f-f00ad92da4ec)

### 7 Внес изменения, связанные с релизом (обновил версию в version.txt):

![image](https://github.com/user-attachments/assets/a0fb94a4-aa01-4cd3-bf2c-e513b72a4fa4)

### 8 Завершил релиз и объединил его с ветками "develop" и "main":

![image](https://github.com/user-attachments/assets/6c01a68d-d5eb-475e-98ec-1d137149f104)

### 9 создал хотфикс для демонстрации работы

![image](https://github.com/user-attachments/assets/b42bb4a2-2641-4180-85a7-2089509a8e6e)

### 10 внес изменения и сделал коммит

![image](https://github.com/user-attachments/assets/03a19e46-9ebf-4b47-ba60-e4e93f220993)

### 11 Завершил hotfix и объедините его с ветками "develop" и "main":

![image](https://github.com/user-attachments/assets/2c0a1267-c18d-4bc6-bc56-92751df30b6b)

### 12 Завершил работы и отправил изменения на удаленный репозиторий:

![image](https://github.com/user-attachments/assets/2d8709e7-f94a-4e1a-81b9-72236311cb9f)

