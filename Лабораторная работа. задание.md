# Лабораторная работа : планировщик cron
Для решения понадобится установить cron, в большинстве современных дистрибутивов Linux cron уже предустановлен. Если по каким-то причинам он не установлен, его можно установить с помощью следующей команды:
```
sudo apt-get install cron 
sudo systemctl enable cron  # Для автоматического запуска службы
sudo systemctl start cron   # Запуск службы
```

## Задание: Простое автоматическое создание отчета
 В этом задании мы создадим скрипт, который будет собирать информацию о текущем пользователе и свободном месте на диске, а также сохранять дату и время выполнения отчета. Этот скрипт будет запускаться ежедневно через cron.

### 1. Создание скрипта для создания отчета.
##### Создайте директорию для сохранения отчетов и скрипта, затем перейдите туда
```
mkdir reports
cd reports
```
##### Создайте скрипт, со своим названием, у меня будет simple_report.sh
```
touch simple_report.sh
```
#### Откройте данный файл и напишите скрипт, который будет:
- Генерировать уникальное имя для отчета, который будет в формате report_year-month-day-hour-minute-second.txt
- Содержание строк:
-- "System Report - $(date)"
-- "Current User: $(whoami)"
-- "Disk Space:"
-- "(( значение свободной памяти ))"
-- при успешном генерации так же строка: "Report generated successfully!"
- Сохранение имени и свободного места в памяти:
-- Имя текущего пользователя с помощью whoami.
-- Свободное место на корневом разделе с помощью df -h /.
#### 2.Сделайте скрипт исполнимым.
Чтобы скрипт можно было запускать, нужно дать ему права на выполнение:
```
chmod +x ~/simple_report.sh
```
#### 3.Настройка cron для автоматического выполнения скрипта каждые 2 минуты.
Теперь добавим задачу cron, чтобы этот скрипт выполнялся каждые 2 минуты. Для этого откроем редактор задач cron:
```
crontab -e
```
Добавьте строку для выполнения скрипта каждые 2 минуты:
```
*/2 * * * * ~/simple_report.sh
```
*/2 — скрипт будет запускаться каждые 2 минуты. Эквивалетно, 2,4,6,8,..,2n.
*в других полях — означает, что задача будет выполняться каждый час, каждый день месяца, каждый месяц и каждый день недели.
```
* * * * * команда
- - - - -
| | | | |
| | | | +---- День недели (0 - 7) (где 0 и 7 — воскресенье)
| | | +------ Месяц (1 - 12)
| | +-------- День месяца (1 - 31)
| +---------- Час (0 - 23)
+------------ Минуты (0 - 59)
```
##### 4.Проверка работы.
Подождите несколько минут, чтобы убедиться, что cron начал выполнять задачу. Также вы можете принудительно запустить команду вручную:
```
~/simple_report.sh
```
Проверьте папку ~/simple_reports, чтобы увидеть, что отчет был успешно создан. Например:
```
ls ~/simple_reports
```
В папке появится отчет с именем, включающим текущую дату и время, например: report_2024-12-19_23-56-00.txt.

### Как успешно сдать работу?

Создать свой репозиторий из шаблона этого. Как это делается - "Use this template" -> "Create a new repository" и сделайте его public. 

Находясь уже в своем репозитории - создайте новый файл формата .md и там оформляйте отчет. В отчете опишите все шаги которые вы делали, чтобы получить финальный результат работы.

Что вам нужно знать, чтобы успешно защитить работу:
Основы работы cron, структура записи в crontab, ключевые символы и параметры в cron, как редактировать и управлять задачами, как настроить задачу cron

## Источники

[Источник где можно найти все](https://google.com)

[Хороший источник cron с примерами](https://www.howtogeek.com/101288/how-to-schedule-tasks-on-linux-an-introduction-to-crontab-files/)

